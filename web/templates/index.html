<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Estadisticas Partida - Jugador {{ juego.mi_id }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='imgs/BanderaFavicon.png') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>游꿡 CAPTURA LA BANDERA</h1>
            <p>Jugador: - <strong>ID: {{ juego.mi_id }} ({{ juego.nombrelocal }})</strong></p>
        </div>

        <div class="status-grid">
            {% for id, j in juego.jugadores.items() %}
            <div class="card {{ 'local' if j.es_local else '' }}">
                <h3>{{ j.NombreJugador }}</h3>
                <p>ID: {{ j.id }}</p>
                <div class="puntos" id="puntos-{{ j.id }}">{{ j.puntos }}</div>
                <p>Posici칩n: <span id="pos-{{ j.id }}">{{ j.rect.x }}, {{ j.rect.y }}</span></p>
            </div>
            {% endfor %}
        </div>

        <div class="bandera-box">
            <h2>游릴 ESTADO DE LA BANDERA 游릴</h2>
            <p id="bandera-info">
                {% if juego.bandera.portador %}
                    La tiene: <strong>{{ juego.bandera.portador.NombreJugador }}</strong>
                {% else %}
                    Estado: <strong>LIBRE EN EL CENTRO</strong>
                {% endif %}
            </p>
            <p>Ubicaci칩n: (<span id="bandera-pos">{{ juego.bandera.rect.x }}, {{ juego.bandera.rect.y }}</span>)</p>
        </div>

        <div class="menu-acciones" style="margin-top: 20px;">
            <a href="/api/estado" class="btn">Ver JSON Crudo</a>
            <a href="/ranking" class="btn">Ver Ranking</a>
            <a href="/partidas" class="btn">Historial Partidas</a>
            <a href="/estadisticas" class="btn">Estad칤sticas Globales</a>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script/refrescar.js') }}" defer></script>
</body>
</html>